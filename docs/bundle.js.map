{"version":3,"file":"bundle.js","sources":["../node_modules/svelte/shared.js","../src/ChoosePlayers.html","../node_modules/string-convert/camel2hyphen.js","../node_modules/json2mq/index.js","../src/Media.html","../src/Play.html","../src/helpers.js","../src/App.html","../node_modules/svelte/store.js","../src/main.js"],"sourcesContent":["function noop() {}\n\nfunction assign(target) {\n\tvar k,\n\t\tsource,\n\t\ti = 1,\n\t\tlen = arguments.length;\n\tfor (; i < len; i++) {\n\t\tsource = arguments[i];\n\t\tfor (k in source) target[k] = source[k];\n\t}\n\n\treturn target;\n}\n\nfunction appendNode(node, target) {\n\ttarget.appendChild(node);\n}\n\nfunction insertNode(node, target, anchor) {\n\ttarget.insertBefore(node, anchor);\n}\n\nfunction detachNode(node) {\n\tnode.parentNode.removeChild(node);\n}\n\nfunction detachBetween(before, after) {\n\twhile (before.nextSibling && before.nextSibling !== after) {\n\t\tbefore.parentNode.removeChild(before.nextSibling);\n\t}\n}\n\nfunction detachBefore(after) {\n\twhile (after.previousSibling) {\n\t\tafter.parentNode.removeChild(after.previousSibling);\n\t}\n}\n\nfunction detachAfter(before) {\n\twhile (before.nextSibling) {\n\t\tbefore.parentNode.removeChild(before.nextSibling);\n\t}\n}\n\nfunction reinsertBetween(before, after, target) {\n\twhile (before.nextSibling && before.nextSibling !== after) {\n\t\ttarget.appendChild(before.parentNode.removeChild(before.nextSibling));\n\t}\n}\n\nfunction reinsertChildren(parent, target) {\n\twhile (parent.firstChild) target.appendChild(parent.firstChild);\n}\n\nfunction reinsertAfter(before, target) {\n\twhile (before.nextSibling) target.appendChild(before.nextSibling);\n}\n\nfunction reinsertBefore(after, target) {\n\tvar parent = after.parentNode;\n\twhile (parent.firstChild !== after) target.appendChild(parent.firstChild);\n}\n\nfunction destroyEach(iterations) {\n\tfor (var i = 0; i < iterations.length; i += 1) {\n\t\tif (iterations[i]) iterations[i].d();\n\t}\n}\n\nfunction createFragment() {\n\treturn document.createDocumentFragment();\n}\n\nfunction createElement(name) {\n\treturn document.createElement(name);\n}\n\nfunction createSvgElement(name) {\n\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\nfunction createText(data) {\n\treturn document.createTextNode(data);\n}\n\nfunction createComment() {\n\treturn document.createComment('');\n}\n\nfunction addListener(node, event, handler) {\n\tnode.addEventListener(event, handler, false);\n}\n\nfunction removeListener(node, event, handler) {\n\tnode.removeEventListener(event, handler, false);\n}\n\nfunction setAttribute(node, attribute, value) {\n\tnode.setAttribute(attribute, value);\n}\n\nfunction setXlinkAttribute(node, attribute, value) {\n\tnode.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\n\nfunction getBindingGroupValue(group) {\n\tvar value = [];\n\tfor (var i = 0; i < group.length; i += 1) {\n\t\tif (group[i].checked) value.push(group[i].__value);\n\t}\n\treturn value;\n}\n\nfunction toNumber(value) {\n\treturn value === '' ? undefined : +value;\n}\n\nfunction timeRangesToArray(ranges) {\n\tvar array = [];\n\tfor (var i = 0; i < ranges.length; i += 1) {\n\t\tarray.push({ start: ranges.start(i), end: ranges.end(i) });\n\t}\n\treturn array;\n}\n\nfunction children (element) {\n\treturn Array.from(element.childNodes);\n}\n\nfunction claimElement (nodes, name, attributes, svg) {\n\tfor (var i = 0; i < nodes.length; i += 1) {\n\t\tvar node = nodes[i];\n\t\tif (node.nodeName === name) {\n\t\t\tfor (var j = 0; j < node.attributes.length; j += 1) {\n\t\t\t\tvar attribute = node.attributes[j];\n\t\t\t\tif (!attributes[attribute.name]) node.removeAttribute(attribute.name);\n\t\t\t}\n\t\t\treturn nodes.splice(i, 1)[0]; // TODO strip unwanted attributes\n\t\t}\n\t}\n\n\treturn svg ? createSvgElement(name) : createElement(name);\n}\n\nfunction claimText (nodes, data) {\n\tfor (var i = 0; i < nodes.length; i += 1) {\n\t\tvar node = nodes[i];\n\t\tif (node.nodeType === 3) {\n\t\t\tnode.data = data;\n\t\t\treturn nodes.splice(i, 1)[0];\n\t\t}\n\t}\n\n\treturn createText(data);\n}\n\nfunction setInputType(input, type) {\n\ttry {\n\t\tinput.type = type;\n\t} catch (e) {}\n}\n\nfunction setStyle(node, key, value) {\n\tnode.style.setProperty(key, value);\n}\n\nfunction selectOption(select, value) {\n\tfor (var i = 0; i < select.options.length; i += 1) {\n\t\tvar option = select.options[i];\n\n\t\tif (option.__value === value) {\n\t\t\toption.selected = true;\n\t\t\treturn;\n\t\t}\n\t}\n}\n\nfunction selectOptions(select, value) {\n\tfor (var i = 0; i < select.options.length; i += 1) {\n\t\tvar option = select.options[i];\n\t\toption.selected = ~value.indexOf(option.__value);\n\t}\n}\n\nfunction selectValue(select) {\n\tvar selectedOption = select.querySelector(':checked') || select.options[0];\n\treturn selectedOption && selectedOption.__value;\n}\n\nfunction selectMultipleValue(select) {\n\treturn [].map.call(select.querySelectorAll(':checked'), function(option) {\n\t\treturn option.__value;\n\t});\n}\n\nfunction linear(t) {\n\treturn t;\n}\n\nfunction generateRule(\n\ta,\n\tb,\n\tdelta,\n\tduration,\n\tease,\n\tfn\n) {\n\tvar keyframes = '{\\n';\n\n\tfor (var p = 0; p <= 1; p += 16.666 / duration) {\n\t\tvar t = a + delta * ease(p);\n\t\tkeyframes += p * 100 + '%{' + fn(t) + '}\\n';\n\t}\n\n\treturn keyframes + '100% {' + fn(b) + '}\\n}';\n}\n\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n\tvar hash = 5381;\n\tvar i = str.length;\n\n\twhile (i--) hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n\treturn hash >>> 0;\n}\n\nfunction wrapTransition(component, node, fn, params, intro, outgroup) {\n\tvar obj = fn(node, params);\n\tvar duration = obj.duration || 300;\n\tvar ease = obj.easing || linear;\n\tvar cssText;\n\n\t// TODO share <style> tag between all transitions?\n\tif (obj.css && !transitionManager.stylesheet) {\n\t\tvar style = createElement('style');\n\t\tdocument.head.appendChild(style);\n\t\ttransitionManager.stylesheet = style.sheet;\n\t}\n\n\tif (intro) {\n\t\tif (obj.css && obj.delay) {\n\t\t\tcssText = node.style.cssText;\n\t\t\tnode.style.cssText += obj.css(0);\n\t\t}\n\n\t\tif (obj.tick) obj.tick(0);\n\t}\n\n\treturn {\n\t\tt: intro ? 0 : 1,\n\t\trunning: false,\n\t\tprogram: null,\n\t\tpending: null,\n\t\trun: function(intro, callback) {\n\t\t\tvar program = {\n\t\t\t\tstart: window.performance.now() + (obj.delay || 0),\n\t\t\t\tintro: intro,\n\t\t\t\tcallback: callback\n\t\t\t};\n\n\t\t\tif (obj.delay) {\n\t\t\t\tthis.pending = program;\n\t\t\t} else {\n\t\t\t\tthis.start(program);\n\t\t\t}\n\n\t\t\tif (!this.running) {\n\t\t\t\tthis.running = true;\n\t\t\t\ttransitionManager.add(this);\n\t\t\t}\n\t\t},\n\t\tstart: function(program) {\n\t\t\tcomponent.fire(program.intro ? 'intro.start' : 'outro.start', { node: node });\n\n\t\t\tprogram.a = this.t;\n\t\t\tprogram.b = program.intro ? 1 : 0;\n\t\t\tprogram.delta = program.b - program.a;\n\t\t\tprogram.duration = duration * Math.abs(program.b - program.a);\n\t\t\tprogram.end = program.start + program.duration;\n\n\t\t\tif (obj.css) {\n\t\t\t\tif (obj.delay) node.style.cssText = cssText;\n\n\t\t\t\tprogram.rule = generateRule(\n\t\t\t\t\tprogram.a,\n\t\t\t\t\tprogram.b,\n\t\t\t\t\tprogram.delta,\n\t\t\t\t\tprogram.duration,\n\t\t\t\t\tease,\n\t\t\t\t\tobj.css\n\t\t\t\t);\n\n\t\t\t\ttransitionManager.addRule(program.rule, program.name = '__svelte_' + hash(program.rule));\n\n\t\t\t\tnode.style.animation = (node.style.animation || '')\n\t\t\t\t\t.split(', ')\n\t\t\t\t\t.filter(function(anim) {\n\t\t\t\t\t\t// when introing, discard old animations if there are any\n\t\t\t\t\t\treturn anim && (program.delta < 0 || !/__svelte/.test(anim));\n\t\t\t\t\t})\n\t\t\t\t\t.concat(program.name + ' ' + duration + 'ms linear 1 forwards')\n\t\t\t\t\t.join(', ');\n\t\t\t}\n\n\t\t\tthis.program = program;\n\t\t\tthis.pending = null;\n\t\t},\n\t\tupdate: function(now) {\n\t\t\tvar program = this.program;\n\t\t\tif (!program) return;\n\n\t\t\tvar p = now - program.start;\n\t\t\tthis.t = program.a + program.delta * ease(p / program.duration);\n\t\t\tif (obj.tick) obj.tick(this.t);\n\t\t},\n\t\tdone: function() {\n\t\t\tvar program = this.program;\n\t\t\tthis.t = program.b;\n\t\t\tif (obj.tick) obj.tick(this.t);\n\t\t\tif (obj.css) transitionManager.deleteRule(node, program.name);\n\t\t\tprogram.callback();\n\t\t\tprogram = null;\n\t\t\tthis.running = !!this.pending;\n\t\t},\n\t\tabort: function() {\n\t\t\tif (obj.tick) obj.tick(1);\n\t\t\tif (obj.css) transitionManager.deleteRule(node, this.program.name);\n\t\t\tthis.program = this.pending = null;\n\t\t\tthis.running = false;\n\t\t}\n\t};\n}\n\nvar transitionManager = {\n\trunning: false,\n\ttransitions: [],\n\tbound: null,\n\tstylesheet: null,\n\tactiveRules: {},\n\n\tadd: function(transition) {\n\t\tthis.transitions.push(transition);\n\n\t\tif (!this.running) {\n\t\t\tthis.running = true;\n\t\t\trequestAnimationFrame(this.bound || (this.bound = this.next.bind(this)));\n\t\t}\n\t},\n\n\taddRule: function(rule, name) {\n\t\tif (!this.activeRules[name]) {\n\t\t\tthis.activeRules[name] = true;\n\t\t\tthis.stylesheet.insertRule('@keyframes ' + name + ' ' + rule, this.stylesheet.cssRules.length);\n\t\t}\n\t},\n\n\tnext: function() {\n\t\tthis.running = false;\n\n\t\tvar now = window.performance.now();\n\t\tvar i = this.transitions.length;\n\n\t\twhile (i--) {\n\t\t\tvar transition = this.transitions[i];\n\n\t\t\tif (transition.program && now >= transition.program.end) {\n\t\t\t\ttransition.done();\n\t\t\t}\n\n\t\t\tif (transition.pending && now >= transition.pending.start) {\n\t\t\t\ttransition.start(transition.pending);\n\t\t\t}\n\n\t\t\tif (transition.running) {\n\t\t\t\ttransition.update(now);\n\t\t\t\tthis.running = true;\n\t\t\t} else if (!transition.pending) {\n\t\t\t\tthis.transitions.splice(i, 1);\n\t\t\t}\n\t\t}\n\n\t\tif (this.running) {\n\t\t\trequestAnimationFrame(this.bound);\n\t\t} else if (this.stylesheet) {\n\t\t\tvar i = this.stylesheet.cssRules.length;\n\t\t\twhile (i--) this.stylesheet.deleteRule(i);\n\t\t\tthis.activeRules = {};\n\t\t}\n\t},\n\n\tdeleteRule: function(node, name) {\n\t\tnode.style.animation = node.style.animation\n\t\t\t.split(', ')\n\t\t\t.filter(function(anim) {\n\t\t\t\treturn anim.slice(0, name.length) !== name;\n\t\t\t})\n\t\t\t.join(', ');\n\t}\n};\n\nfunction blankObject() {\n\treturn Object.create(null);\n}\n\nfunction destroy(detach) {\n\tthis.destroy = noop;\n\tthis.fire('destroy');\n\tthis.set = this.get = noop;\n\n\tif (detach !== false) this._fragment.u();\n\tthis._fragment.d();\n\tthis._fragment = this._state = null;\n}\n\nfunction destroyDev(detach) {\n\tdestroy.call(this, detach);\n\tthis.destroy = function() {\n\t\tconsole.warn('Component was already destroyed');\n\t};\n}\n\nfunction differs(a, b) {\n\treturn a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\n\nfunction dispatchObservers(component, group, changed, newState, oldState) {\n\tfor (var key in group) {\n\t\tif (!changed[key]) continue;\n\n\t\tvar newValue = newState[key];\n\t\tvar oldValue = oldState[key];\n\n\t\tvar callbacks = group[key];\n\t\tif (!callbacks) continue;\n\n\t\tfor (var i = 0; i < callbacks.length; i += 1) {\n\t\t\tvar callback = callbacks[i];\n\t\t\tif (callback.__calling) continue;\n\n\t\t\tcallback.__calling = true;\n\t\t\tcallback.call(component, newValue, oldValue);\n\t\t\tcallback.__calling = false;\n\t\t}\n\t}\n}\n\nfunction fire(eventName, data) {\n\tvar handlers =\n\t\teventName in this._handlers && this._handlers[eventName].slice();\n\tif (!handlers) return;\n\n\tfor (var i = 0; i < handlers.length; i += 1) {\n\t\thandlers[i].call(this, data);\n\t}\n}\n\nfunction get(key) {\n\treturn key ? this._state[key] : this._state;\n}\n\nfunction init(component, options) {\n\tcomponent._observers = { pre: blankObject(), post: blankObject() };\n\tcomponent._handlers = blankObject();\n\tcomponent._bind = options._bind;\n\n\tcomponent.options = options;\n\tcomponent.root = options.root || component;\n\tcomponent.store = component.root.store || options.store;\n}\n\nfunction observe(key, callback, options) {\n\tvar group = options && options.defer\n\t\t? this._observers.post\n\t\t: this._observers.pre;\n\n\t(group[key] || (group[key] = [])).push(callback);\n\n\tif (!options || options.init !== false) {\n\t\tcallback.__calling = true;\n\t\tcallback.call(this, this._state[key]);\n\t\tcallback.__calling = false;\n\t}\n\n\treturn {\n\t\tcancel: function() {\n\t\t\tvar index = group[key].indexOf(callback);\n\t\t\tif (~index) group[key].splice(index, 1);\n\t\t}\n\t};\n}\n\nfunction observeDev(key, callback, options) {\n\tvar c = (key = '' + key).search(/[^\\w]/);\n\tif (c > -1) {\n\t\tvar message =\n\t\t\t'The first argument to component.observe(...) must be the name of a top-level property';\n\t\tif (c > 0)\n\t\t\tmessage += \", i.e. '\" + key.slice(0, c) + \"' rather than '\" + key + \"'\";\n\n\t\tthrow new Error(message);\n\t}\n\n\treturn observe.call(this, key, callback, options);\n}\n\nfunction on(eventName, handler) {\n\tif (eventName === 'teardown') return this.on('destroy', handler);\n\n\tvar handlers = this._handlers[eventName] || (this._handlers[eventName] = []);\n\thandlers.push(handler);\n\n\treturn {\n\t\tcancel: function() {\n\t\t\tvar index = handlers.indexOf(handler);\n\t\t\tif (~index) handlers.splice(index, 1);\n\t\t}\n\t};\n}\n\nfunction onDev(eventName, handler) {\n\tif (eventName === 'teardown') {\n\t\tconsole.warn(\n\t\t\t\"Use component.on('destroy', ...) instead of component.on('teardown', ...) which has been deprecated and will be unsupported in Svelte 2\"\n\t\t);\n\t\treturn this.on('destroy', handler);\n\t}\n\n\treturn on.call(this, eventName, handler);\n}\n\nfunction set(newState) {\n\tthis._set(assign({}, newState));\n\tif (this.root._lock) return;\n\tthis.root._lock = true;\n\tcallAll(this.root._beforecreate);\n\tcallAll(this.root._oncreate);\n\tcallAll(this.root._aftercreate);\n\tthis.root._lock = false;\n}\n\nfunction _set(newState) {\n\tvar oldState = this._state,\n\t\tchanged = {},\n\t\tdirty = false;\n\n\tfor (var key in newState) {\n\t\tif (differs(newState[key], oldState[key])) changed[key] = dirty = true;\n\t}\n\tif (!dirty) return;\n\n\tthis._state = assign({}, oldState, newState);\n\tthis._recompute(changed, this._state);\n\tif (this._bind) this._bind(changed, this._state);\n\n\tif (this._fragment) {\n\t\tdispatchObservers(this, this._observers.pre, changed, this._state, oldState);\n\t\tthis._fragment.p(changed, this._state);\n\t\tdispatchObservers(this, this._observers.post, changed, this._state, oldState);\n\t}\n}\n\nfunction setDev(newState) {\n\tif (typeof newState !== 'object') {\n\t\tthrow new Error(\n\t\t\tthis._debugName + '.set was called without an object of data key-values to update.'\n\t\t);\n\t}\n\n\tthis._checkReadOnly(newState);\n\tset.call(this, newState);\n}\n\nfunction callAll(fns) {\n\twhile (fns && fns.length) fns.pop()();\n}\n\nfunction _mount(target, anchor) {\n\tthis._fragment.m(target, anchor);\n}\n\nfunction _unmount() {\n\tif (this._fragment) this._fragment.u();\n}\n\nfunction isPromise(value) {\n\treturn value && typeof value.then === 'function';\n}\n\nvar PENDING = {};\nvar SUCCESS = {};\nvar FAILURE = {};\n\nfunction removeFromStore() {\n\tthis.store._remove(this);\n}\n\nvar proto = {\n\tdestroy: destroy,\n\tget: get,\n\tfire: fire,\n\tobserve: observe,\n\ton: on,\n\tset: set,\n\tteardown: destroy,\n\t_recompute: noop,\n\t_set: _set,\n\t_mount: _mount,\n\t_unmount: _unmount\n};\n\nvar protoDev = {\n\tdestroy: destroyDev,\n\tget: get,\n\tfire: fire,\n\tobserve: observeDev,\n\ton: onDev,\n\tset: setDev,\n\tteardown: destroyDev,\n\t_recompute: noop,\n\t_set: _set,\n\t_mount: _mount,\n\t_unmount: _unmount\n};\n\nexport { blankObject, destroy, destroyDev, differs, dispatchObservers, fire, get, init, observe, observeDev, on, onDev, set, _set, setDev, callAll, _mount, _unmount, isPromise, PENDING, SUCCESS, FAILURE, removeFromStore, proto, protoDev, appendNode, insertNode, detachNode, detachBetween, detachBefore, detachAfter, reinsertBetween, reinsertChildren, reinsertAfter, reinsertBefore, destroyEach, createFragment, createElement, createSvgElement, createText, createComment, addListener, removeListener, setAttribute, setXlinkAttribute, getBindingGroupValue, toNumber, timeRangesToArray, children, claimElement, claimText, setInputType, setStyle, selectOption, selectOptions, selectValue, selectMultipleValue, linear, generateRule, hash, wrapTransition, transitionManager, noop, assign };\n","<form ref:form class=\"row\" on:submit=\"setPlayers(event)\">\n\n    <div>\n        <input ref:newplayer type=\"text\" name=\"players\" placeholder=\"Add a player\">\n        <button class=\"button button-primary\">Add</button>\n    </div>\n    {{#each $players as player, i}}\n    <div>\n        <input type=\"text\" value=\"{{ player }}\" name=\"players\">\n        <button type=\"button\" class=\"button\" title=\"Remove this player\" on:click=\"removePlayer(i)\">x</button>\n    </div>\n    {{/each}}\n\n    <div><input type=\"submit\" value=\"start\" on:click=\"start(event)\"></div>\n</form>\n\n<style></style>\n\n<script>\n\nexport default {\n\n    methods: {\n\n        setPlayers(e) {\n            e.preventDefault();\n\n            const {form, newplayer} = this.refs;\n            let players;\n\n            if (form.elements.players.length) {\n                players = Array.from(form.elements.players)\n                    .map(i => i.value)\n                    .filter(Boolean);\n            } else {\n                players = [form.elements.players.value];\n            }\n\n            this.store.set({ players });\n            newplayer.value = \"\";\n        },\n\n        removePlayer(index) {\n            const players = this.store.get('players')\n                .filter((p, i) => i !== index);\n            \n            this.store.set({ players });\n        },\n\n        start(e) {\n            // make sure players are set first\n            this.setPlayers.call(this, e);\n            this.store.set({ started: true });\n        }\n    }\n}\n</script>","var camel2hyphen = function (str) {\n  return str\n          .replace(/[A-Z]/g, function (match) {\n            return '-' + match.toLowerCase();\n          })\n          .toLowerCase();\n};\n\nmodule.exports = camel2hyphen;","var camel2hyphen = require('string-convert/camel2hyphen');\n\nvar isDimension = function (feature) {\n  var re = /[height|width]$/;\n  return re.test(feature);\n};\n\nvar obj2mq = function (obj) {\n  var mq = '';\n  var features = Object.keys(obj);\n  features.forEach(function (feature, index) {\n    var value = obj[feature];\n    feature = camel2hyphen(feature);\n    // Add px to dimension features\n    if (isDimension(feature) && typeof value === 'number') {\n      value = value + 'px';\n    }\n    if (value === true) {\n      mq += feature;\n    } else if (value === false) {\n      mq += 'not ' + feature;\n    } else {\n      mq += '(' + feature + ': ' + value + ')';\n    }\n    if (index < features.length-1) {\n      mq += ' and '\n    }\n  });\n  return mq;\n};\n\nvar json2mq = function (query) {\n  var mq = '';\n  if (typeof query === 'string') {\n    return query;\n  }\n  // Handling array of media queries\n  if (query instanceof Array) {\n    query.forEach(function (q, index) {\n      mq += obj2mq(q);\n      if (index < query.length-1) {\n        mq += ', '\n      }\n    });\n    return mq;\n  }\n  // Handling single media query\n  return obj2mq(query);\n};\n\nmodule.exports = json2mq;","<!-- only render if query matches current media -->\n{{#if matches}}\n<slot></slot>\n{{/if}}\n\n<script>\nexport default {\n\n    data() {\n        return {\n            matches: true,\n            query: null\n        }\n    },\n\n    oncreate() {\n        \n        const {query} = this.get();\n\n        this.updateMatches = this.updateMatches.bind(this);\n        \n        this.mediaQueryList = window.matchMedia(query);\n        this.mediaQueryList.addListener(this.updateMatches);\n\n        this.updateMatches();\n    },\n\n    ondestroy() {\n        if (this.mediaQueryList) {\n            this.mediaQueryList.removeListener(this.updateMatches);\n        }\n    },\n\n    methods: {\n        updateMatches(e) {\n            if (this.mediaQueryList) {\n                this.set({ matches: this.mediaQueryList.matches });\n            }\n        }\n    }\n}\n</script>","<div class=\"row\">\n    <Media query={{ json2mq({ maxWidth: 600 }) }}>\n        <div class=\"twelve columns\">\n            {{#each $rounds as round, i}}\n\n            <header>\n                <h2>Round {{ i+1 }}</h2>\n                <button class=\"x-round button\" on:click=\"removeRound(i)\">X</button>\n            </header>\n\n            <dl>\n                {{#each $players as player}}\n                <dt>\n                    <label>\n                        <span>{{ player }}</span>\n                        <input type=\"number\" value=\"{{ round[player] }}\" \n                            on:input=\"updateScore(event, player, i)\">\n                    </label>\n                </dt>\n                {{/each}}\n            </dl>\n            {{/each}}\n        </div>\n    </Media>\n\n    <Media query={{ json2mq({ minWidth: 601 }) }}>\n    <table class=\"twelve columns\">\n        <thead>\n            <tr>\n                <th>Round #</th>\n                {{#each $players as player, i}}\n                <th>{{ player }}</th>\n                {{/each}}\n                <th>Discard</th>\n            </tr>\n        </thead>\n        <tbody>\n            {{#each $rounds as round, i}}\n            <tr>\n                <td>\n                    {{ i+1 }} \n                </td>\n                {{#each $players as player}}\n                <td>\n                    <input type=\"number\" value=\"{{ round[player] }}\" on:input=\"updateScore(event, player, i)\">\n                </td>\n                {{/each}}\n\n                <td>\n                    <button class=\"x-round button\" on:click=\"removeRound(i)\">x</button>\n                </td>\n            </tr>\n            {{/each}}\n\n            <tr class=\"totals\">\n                <td>Totals:</td>\n                {{#each $players as player}}\n                <td>{{ totals[player] || 0 }}</td>\n                {{/each}}\n                <td></td>\n            </tr>\n        </tbody>\n    </table>\n    </Media>\n\n    <div>\n        <button class=\"button button-primary\" on:click=\"nextRound()\">Next round</button>\n        <button class=\"button\" on:click=\"store.set({ started: false })\">Change players</button>\n    </div>\n</div>\n\n<style>\nheader {\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    justify-content: space-between;    \n}\n\nh2 {\n    font-size: 2em;\n}\n\nbutton.x-round {\n    background: none;\n    cursor: pointer;\n    border: none;\n    font-size: 1em;\n}\n\ndt label {\n    display: flex;\n    flex-flow: row nowrap;\n    align-items: center;\n    justify-content: space-around;    \n}\n</style>\n\n<script>\nimport json2mq from 'json2mq';\nimport Media from './Media.html';\nimport { totals } from './helpers.js';\n\nexport default {\n\n    components: { Media },\n\n    oncreate() {\n        const rounds = this.store.get('rounds');\n\n        if (rounds.length < 1) {\n            this.nextRound();\n        }\n    },\n\n    computed: {\n        totals: ($rounds) => totals($rounds)\n    },\n\n    helpers: {\n        json2mq\n    },\n\n    methods: {\n        nextRound() {\n\n            const {rounds, players} = this.store.get();\n\n            const round = players.reduce((m, p) => {\n                m[p] = 0;\n                return m;\n            }, {});\n\n            rounds.push(round);\n\n            this.store.set({ rounds });\n        },\n\n        removeRound(index) {\n            const rounds = this.store.get('rounds')\n                .filter((r, i) => i !== index);\n\n            this.store.set({ rounds });\n        },\n\n        updateScore(e, player, index) {\n\n            const rounds = this.store.get('rounds');\n            const value = +e.target.value;\n\n            const updated = rounds.map((round, i) => {\n\n                if (i === index) {\n                    round[player] = value;\n                }\n\n                return round;\n            });\n\n            this.store.set({ rounds: updated });\n        }\n    }\n}\n</script>","// helpers outside of components\n\nexport function totals(rounds) {\n    return rounds.reduce((m, round) => {\n        for (let player in round) {\n            m[player] = (m[player] || 0) + round[player];\n        }\n\n        return m;\n    }, {});\n}\n\nexport function useLocalStorage(store, key) {\n    const json = localStorage.getItem(key);\n    if (json) {\n        store.set(JSON.parse(json));\n    }\n\n    store.onchange(state => {\n        localStorage.setItem(key, JSON.stringify(state));\n    });\n}","<div class=\"container\">\n    <h1>Scorekeeper</h1>\n\n    {{#if $started}}\n        <Play ref:play />\n    {{else}}\n        <ChoosePlayers ref:choose />\n    {{/if}}\n</div>\n\n<script>\nimport ChoosePlayers from './ChoosePlayers.html'\nimport Play from './Play.html'\n\nexport default {\n\tcomponents: {\n        ChoosePlayers,\n        Play\n\t}\n}\n</script>\n","import {\n\tassign,\n\tblankObject,\n\tdiffers,\n\tdispatchObservers,\n\tget,\n\tobserve\n} from './shared.js';\n\nfunction Store(state) {\n\tthis._observers = { pre: blankObject(), post: blankObject() };\n\tthis._changeHandlers = [];\n\tthis._dependents = [];\n\n\tthis._computed = blankObject();\n\tthis._sortedComputedProperties = [];\n\n\tthis._state = assign({}, state);\n}\n\nassign(Store.prototype, {\n\t_add: function(component, props) {\n\t\tthis._dependents.push({\n\t\t\tcomponent: component,\n\t\t\tprops: props\n\t\t});\n\t},\n\n\t_init: function(props) {\n\t\tvar state = {};\n\t\tfor (var i = 0; i < props.length; i += 1) {\n\t\t\tvar prop = props[i];\n\t\t\tstate['$' + prop] = this._state[prop];\n\t\t}\n\t\treturn state;\n\t},\n\n\t_remove: function(component) {\n\t\tvar i = this._dependents.length;\n\t\twhile (i--) {\n\t\t\tif (this._dependents[i].component === component) {\n\t\t\t\tthis._dependents.splice(i, 1);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t},\n\n\t_sortComputedProperties: function() {\n\t\tvar computed = this._computed;\n\t\tvar sorted = this._sortedComputedProperties = [];\n\t\tvar cycles;\n\t\tvar visited = blankObject();\n\n\t\tfunction visit(key) {\n\t\t\tif (cycles[key]) {\n\t\t\t\tthrow new Error('Cyclical dependency detected');\n\t\t\t}\n\n\t\t\tif (visited[key]) return;\n\t\t\tvisited[key] = true;\n\n\t\t\tvar c = computed[key];\n\n\t\t\tif (c) {\n\t\t\t\tcycles[key] = true;\n\t\t\t\tc.deps.forEach(visit);\n\t\t\t\tsorted.push(c);\n\t\t\t}\n\t\t}\n\n\t\tfor (var key in this._computed) {\n\t\t\tcycles = blankObject();\n\t\t\tvisit(key);\n\t\t}\n\t},\n\n\tcompute: function(key, deps, fn) {\n\t\tvar store = this;\n\t\tvar value;\n\n\t\tvar c = {\n\t\t\tdeps: deps,\n\t\t\tupdate: function(state, changed, dirty) {\n\t\t\t\tvar values = deps.map(function(dep) {\n\t\t\t\t\tif (dep in changed) dirty = true;\n\t\t\t\t\treturn state[dep];\n\t\t\t\t});\n\n\t\t\t\tif (dirty) {\n\t\t\t\t\tvar newValue = fn.apply(null, values);\n\t\t\t\t\tif (differs(newValue, value)) {\n\t\t\t\t\t\tvalue = newValue;\n\t\t\t\t\t\tchanged[key] = true;\n\t\t\t\t\t\tstate[key] = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tc.update(this._state, {}, true);\n\n\t\tthis._computed[key] = c;\n\t\tthis._sortComputedProperties();\n\t},\n\n\tget: get,\n\n\tobserve: observe,\n\n\tonchange: function(callback) {\n\t\tthis._changeHandlers.push(callback);\n\t\treturn {\n\t\t\tcancel: function() {\n\t\t\t\tvar index = this._changeHandlers.indexOf(callback);\n\t\t\t\tif (~index) this._changeHandlers.splice(index, 1);\n\t\t\t}\n\t\t};\n\t},\n\n\tset: function(newState) {\n\t\tvar oldState = this._state,\n\t\t\tchanged = this._changed = {},\n\t\t\tdirty = false;\n\n\t\tfor (var key in newState) {\n\t\t\tif (this._computed[key]) throw new Error(\"'\" + key + \"' is a read-only property\");\n\t\t\tif (differs(newState[key], oldState[key])) changed[key] = dirty = true;\n\t\t}\n\t\tif (!dirty) return;\n\n\t\tthis._state = assign({}, oldState, newState);\n\n\t\tfor (var i = 0; i < this._sortedComputedProperties.length; i += 1) {\n\t\t\tthis._sortedComputedProperties[i].update(this._state, changed);\n\t\t}\n\n\t\tfor (var i = 0; i < this._changeHandlers.length; i += 1) {\n\t\t\tthis._changeHandlers[i](this._state, changed);\n\t\t}\n\n\t\tdispatchObservers(this, this._observers.pre, changed, this._state, oldState);\n\n\t\tvar dependents = this._dependents.slice(); // guard against mutations\n\t\tfor (var i = 0; i < dependents.length; i += 1) {\n\t\t\tvar dependent = dependents[i];\n\t\t\tvar componentState = {};\n\t\t\tdirty = false;\n\n\t\t\tfor (var j = 0; j < dependent.props.length; j += 1) {\n\t\t\t\tvar prop = dependent.props[j];\n\t\t\t\tif (prop in changed) {\n\t\t\t\t\tcomponentState['$' + prop] = this._state[prop];\n\t\t\t\t\tdirty = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (dirty) dependent.component.set(componentState);\n\t\t}\n\n\t\tdispatchObservers(this, this._observers.post, changed, this._state, oldState);\n\t}\n});\n\nexport { Store };","import App from './App.html';\nimport { Store } from 'svelte/store.js';\nimport { totals, useLocalStorage } from './helpers.js';\n\nconst store = new Store({\n\tplayers: [],\n    rounds: [],\n    started: false\n});\n\nwindow.store = store;\n\n// save data to localStorage every time our state changes\nuseLocalStorage(store, 'scorekeeper');\n\nconst app = new App({\n\ttarget: document.body,\n\tstore\n});\n\nexport default app;"],"names":["noop","assign","target","k","source","i","len","arguments","length","appendNode","node","appendChild","insertNode","anchor","insertBefore","detachNode","parentNode","removeChild","destroyEach","iterations","d","createFragment","document","createDocumentFragment","createElement","name","createText","data","createTextNode","createComment","addListener","event","handler","addEventListener","removeListener","removeEventListener","blankObject","Object","create","destroy","detach","this","fire","set","get","_fragment","u","_state","differs","a","b","dispatchObservers","component","group","changed","newState","oldState","key","newValue","oldValue","callbacks","callback","__calling","call","init","options","_observers","pre","post","_handlers","_bind","root","store","observe","defer","push","cancel","index","indexOf","splice","callAll","fns","pop","removeFromStore","_remove","proto","eventName","handlers","slice","on","_set","_lock","_beforecreate","_oncreate","_aftercreate","teardown","_recompute","dirty","p","_mount","m","_unmount","player","removePlayer","$players","start","setPlayers","e","preventDefault","players","refs","form","newplayer","elements","Array","from","map","value","filter","Boolean","const","started","str","replace","match","toLowerCase","obj2mq","obj","mq","features","keys","forEach","feature","camel2hyphen","test","query","q","mediaQueryList","updateMatches","before","after","nextSibling","matches","bind","window","matchMedia","attribute","setAttribute","round","round_1","totals","player_1","removeRound","updateScore","nextRound","$rounds","json2mq","maxWidth","minWidth","rounds","reduce","r","updated","let","$started","Store","state","_changeHandlers","_dependents","_computed","_sortedComputedProperties","prototype","_add","props","_init","prop","_sortComputedProperties","cycles","computed","sorted","visited","visit","Error","c","deps","compute","fn","update","values","dep","apply","onchange","_changed","dependents","dependent","componentState","j","json","localStorage","getItem","JSON","parse","setItem","stringify","useLocalStorage","App","body"],"mappings":"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"}